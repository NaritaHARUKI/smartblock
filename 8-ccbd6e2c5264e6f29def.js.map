{"version":3,"sources":["webpack:///./node_modules/smartblock/lib/components/smartblock.js","webpack:///./node_modules/smartblock/lib/utils/hooks.js","webpack:///./node_modules/smartblock/lib/components/title.js","webpack:///./node_modules/smartblock/lib/components/menu.js","webpack:///./node_modules/scroll-to/index.js","webpack:///./node_modules/smartblock/lib/components/inline-menu.js","webpack:///./node_modules/smartblock/lib/extensions/base.js","webpack:///./node_modules/ev-emitter/ev-emitter.js","webpack:///./node_modules/smartblock/lib/components/custom-layout.js","webpack:///./node_modules/smartblock/lib/components/icons/Undo.js","webpack:///./node_modules/smartblock/lib/components/edit-menu.js","webpack:///./node_modules/component-tween/index.js","webpack:///./node_modules/component-raf/index.js","webpack:///./node_modules/component-tween/node_modules/component-emitter/index.js","webpack:///./node_modules/smartblock/lib/components/editor.js","webpack:///./node_modules/component-clone/index.js","webpack:///./node_modules/ease-component/index.js","webpack:///./node_modules/smartblock/lib/components/back-btn.js","webpack:///./node_modules/component-type/index.js","webpack:///./node_modules/imagesloaded/imagesloaded.js"],"names":["__makeTemplateObject","this","cooked","raw","Object","defineProperty","value","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","exports","templateObject_1","templateObject_2","templateObject_3","React","styled_components_1","prosemirror_model_1","prosemirror_keymap_1","prosemirror_commands_1","scroll_to_1","uuid","editor_1","inline_menu_1","edit_menu_1","menu_1","back_btn_1","custom_layout_1","title_1","utils_1","base_1","useState","useEffect","useRef","Input","Container","div","props","full","Inner","getMarks","extensions","filter","extension","group","getSchemaFromExtensions","nodes","schema","reduce","node","curr","index","_a","newNode","name","getBlockSchemas","nodeDependencies","schemaDependencies","getSchemaBlockDependencies","doc","content","text","hard_break","inline","selectable","parseDOM","tag","toDOM","marks","mark","newMark","getMarkSchemas","Schema","getMenu","showMenu","getPlugins","customPlugins","forEach","plugins","concat","keyPlugin","extensionKeys","keys","registeredKeys_1","key","push","keyMaps","extensionKey","chainCommands","keymap","getKeys","defaultProps","offsetTop","showBackBtn","autoSave","showTitle","titleText","html","json","markdown","showdown","realHtml","Node","fromJSON","getHtmlFromNode","converter","Converter","setFlavor","makeHtml","pathname","location","localHtml","localStorage","getItem","options","setOptions","app","document","createElement","innerHTML","DOMParser","fromSchema","parse","preserveWhitespace","onInit","getEditorRef","editorOptions","_b","showMenus","setShowMenus","containerId","useMemo","container","blocks","getBlocks","edits","getEdits","nodeViews","views","view","getPos","getNodeViews","id","onClick","e","target","getAttribute","ref","onChange","title","setItem","onTitleChange","titleChanged","defaultValue","placeholder","titlePlaceholder","className","state","dispatch","current","selected","querySelector","viewport","getViewport","top_1","getScrollTop","height","getOffset","top","test","navigator","platform","activeElement","duration","isContentEditable","change","toJSON","outputMarkdown","makeMd","childCount","lastNode","child","type","paragraph","tr","insert","size","createAndFill","textContent","_onChange","setTimeout","render","editor","scrolling","Fragment","menu","getParentNodeFromState","currentBlock","find","block","hideInlineMenuOnFocus","shouldRenderInlineMenu","blockMenu","react_1","prosemirror_state_1","prosemirror_view_1","_1","useForceUpdate","setTick","tick","useView","forceUpdate","EditorView","EditorState","create","dispatchTransaction","transaction","applyTransaction","transactions","updateState","some","docChanged","attributes","useScroll","scrollTop","setScrollTop","scrollEvent","window","addEventListener","removeEventListener","useScrolling","element","delay","setScrolling","debounceTimer","count","getBoundingClientRect","interval","setInterval","localTop","clearTimeout","clearInterval","hooks_1","schemaDef","titleRef","config","replace","Plugin","decorations","descendants","pos","isBlock","Decoration","nodeSize","DecorationSet","appendChild","dom","templateObject_4","prosemirror_utils_1","button_1","fadeIn","keyframes","PositionBtnGroup","PositionBtnGroupTop","PositionBtnGroupBottom","CustomMenu","activeItem","item","active","customMenu","getActiveMenu","shouldRender","selectedItem","hideMenuOnFocus","shouldRenderMenu","left","style","setState","nextStyle","selection","empty","right","$anchor","rowNumber","resolve","path","firstNode","findChildren","_node","coords","coordsAtPos","nodeDOM","elementTop","offsetHeight","calculateStyle","hideBlockMenuOnFocus","map","customButton","disabled","enable","preventDefault","icon","dangerouslySetInnerHTML","__html","children","Tween","raf","module","x","y","start","pageYOffset","documentElement","pageXOffset","scrollLeft","scroll","tween","ease","to","animate","update","o","scrollTo","on","FloaterStyle","Bar","offsetLeft","$head","offsetWidth","width","innerWidth","calculateArrowPos","inlineMenu","customInlineMenu","getActiveInlineMenu","paragraph_1","trash_1","move_up_1","move_down_1","default_keys_1","default_plugins_1","EvEmitter","proto","eventName","listener","events","_events","listeners","indexOf","once","onceEvents","_onceEvents","off","splice","emitEvent","args","slice","onceListeners","allOff","imagesloaded_1","customLayout","getCustomLayout","parentNode","parentPos","findNodePosition","position","zIndex","setSize","newSize","useImagesLoaded","viewBox","d","Button","color","btnColor","Emitter","clone","obj","_from","reset","isArray","_curr","_done","_start","Date","now","_to","ms","_duration","fn","TypeError","_ease","stop","stopped","emit","step","_update","from","k","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","getTime","Math","max","prev","req","cancel","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","mixin","event","_callbacks","removeListener","removeAllListeners","cb","callbacks","len","hasListeners","editorRef","autoFocus","focus","_","copy","Array","l","flags","multiline","global","ignoreCase","RegExp","source","linear","inQuad","outQuad","inOutQuad","inCube","outCube","inOutCube","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inSine","cos","PI","outSine","sin","inOutSine","inExpo","pow","outExpo","inOutExpo","inCirc","sqrt","outCirc","inOutCirc","inBack","outBack","inOutBack","inBounce","outBounce","inOutBounce","prosemirror_history_1","Undo_1","appear","BackBtn","button","undoDepth","undo","toString","val","undefined","nodeType","valueOf","factory","$","jQuery","console","extend","a","b","prop","arraySlice","ImagesLoaded","elem","onAlways","queryElem","querySelectorAll","elements","getImages","jqDeferred","Deferred","check","bind","error","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","img","1","9","11","LoadingImage","Background","url","Image","getComputedStyle","reURL","matches","exec","backgroundImage","addBackground","loadingImage","_this","onProgress","image","message","progress","progressedCount","hasAnyBroken","complete","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","src","handleEvent","method","onload","unbindEvents","onerror","makeJQueryPlugin","imagesLoaded","callback","promise"],"mappings":"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","file":"8-ccbd6e2c5264e6f29def.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.date.to-json\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_components_1 = require(\"styled-components\");\n\nvar prosemirror_model_1 = require(\"prosemirror-model\");\n\nvar prosemirror_keymap_1 = require(\"prosemirror-keymap\");\n\nvar prosemirror_commands_1 = require(\"prosemirror-commands\");\n\nvar scroll_to_1 = require(\"scroll-to\");\n\nvar uuid = require(\"uuid/v4\");\n\nvar editor_1 = require(\"./editor\");\n\nvar inline_menu_1 = require(\"./inline-menu\");\n\nvar edit_menu_1 = require(\"./edit-menu\");\n\nvar menu_1 = require(\"./menu\");\n\nvar back_btn_1 = require(\"./back-btn\");\n\nvar custom_layout_1 = require(\"./custom-layout\");\n\nvar title_1 = require(\"./title\");\n\nvar utils_1 = require(\"../utils\");\n\nvar base_1 = require(\"../extensions/base\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useRef = React.useRef;\nvar Input = styled_components_1[\"default\"]('div')(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  overflow-y: auto;\\n\"], [\"\\n  width: 100%;\\n  overflow-y: auto;\\n\"])));\nvar Container = styled_components_1[\"default\"].div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \"\\n  margin: 0 auto;\\n  padding: 10px 0 80px 0;\\n\"], [\"\\n  \", \"\\n  margin: 0 auto;\\n  padding: 10px 0 80px 0;\\n\"])), function (props) {\n  if (!props.full) {\n    return \"max-width: 780px;\";\n  }\n\n  return '';\n});\nvar Inner = styled_components_1[\"default\"].div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\nvar EDITMENUHEIGHT = 80;\n\nvar getBlockSchemas = function getBlockSchemas(extensions) {\n  var nodesSchema = extensions.filter(function (extension) {\n    if (extension.schema && extension.schema.group === 'block') {\n      return true;\n    }\n\n    return false;\n  });\n  var nodes = nodesSchema.reduce(function (node, curr, index) {\n    var _a;\n\n    var newNode = (_a = {}, _a[curr.name] = __assign({}, curr.schema), _a);\n    return __assign({}, node, newNode);\n  }, {});\n  return nodes;\n};\n\nvar getBlocks = function getBlocks(extensions) {\n  var nodesSchema = extensions.filter(function (extension) {\n    if (extension.group === 'block') {\n      return true;\n    }\n\n    return false;\n  });\n  return nodesSchema;\n};\n\nvar getMarks = function getMarks(extensions) {\n  var marksSchema = extensions.filter(function (extension) {\n    if (extension.group === 'mark') {\n      return true;\n    }\n\n    return false;\n  });\n  return marksSchema;\n};\n\nvar getMarkSchemas = function getMarkSchemas(extensions) {\n  var marksSchema = getMarks(extensions);\n  var marks = marksSchema.reduce(function (mark, curr, index) {\n    var _a;\n\n    var newMark = (_a = {}, _a[curr.name] = __assign({}, curr.schema), _a);\n    return __assign({}, mark, newMark);\n  }, {});\n  return marks;\n};\n\nvar getEdits = function getEdits(extensions) {\n  var editMarks = extensions.filter(function (extension) {\n    if (extension.group === 'edit') {\n      return true;\n    }\n\n    return false;\n  });\n  return editMarks;\n};\n\nvar getSchemaBlockDependencies = function getSchemaBlockDependencies(extensions) {\n  var schemas = extensions.reduce(function (schema, curr) {\n    if (curr.schemaDependencies) {\n      return Object.assign({}, schema, curr.schemaDependencies);\n    }\n\n    return schema;\n  }, {});\n  return schemas;\n};\n\nvar getSchemaFromExtensions = function getSchemaFromExtensions(extensions) {\n  var nodes = getBlockSchemas(extensions);\n  var nodeDependencies = getSchemaBlockDependencies(extensions);\n  var base = {\n    doc: {\n      content: 'block+'\n    },\n    text: {\n      group: 'inline'\n    },\n    hard_break: {\n      inline: true,\n      group: 'inline',\n      selectable: false,\n      parseDOM: [{\n        tag: 'br'\n      }],\n      toDOM: function toDOM() {\n        return ['br'];\n      }\n    }\n  };\n  nodes = __assign({}, nodes, base, nodeDependencies);\n  var marks = getMarkSchemas(extensions);\n  return new prosemirror_model_1.Schema({\n    nodes: nodes,\n    marks: marks\n  });\n};\n\nvar getKeys = function getKeys(extensions, schema) {\n  var extensionKeys = {};\n  extensions.forEach(function (extension) {\n    if (extension.keys) {\n      var registeredKeys_1 = extension.keys(schema);\n      Object.keys(registeredKeys_1).forEach(function (key) {\n        if (!extensionKeys[key]) {\n          extensionKeys[key] = [];\n        }\n\n        extensionKeys[key].push(registeredKeys_1[key]);\n      });\n    }\n  });\n  var keyMaps = {};\n  Object.keys(extensionKeys).forEach(function (extensionKey) {\n    keyMaps[extensionKey] = prosemirror_commands_1.chainCommands.apply(void 0, extensionKeys[extensionKey]);\n  });\n  return prosemirror_keymap_1.keymap(keyMaps);\n};\n\nvar getMenu = function getMenu(extensions) {\n  return extensions.filter(function (extension) {\n    return extension.showMenu;\n  });\n};\n\nvar _onChange = function onChange(state, dispatch, props, schema, container, showdown //any\n) {\n  var doc = state.doc;\n\n  if (container && container.current) {\n    var selected = container.current.querySelector('.selected');\n\n    if (selected) {\n      var viewport = utils_1.getViewport();\n      var top_1 = utils_1.getScrollTop() + viewport.height;\n      var offsetTop = utils_1.getOffset(selected).top;\n\n      if (offsetTop + EDITMENUHEIGHT >= top_1) {\n        if (/iPod|iPhone|iPad/.test(navigator.platform) && document.activeElement) {\n          var activeElement = document.activeElement;\n\n          if (activeElement.isContentEditable) {\n            scroll_to_1[\"default\"](0, offsetTop - EDITMENUHEIGHT, {\n              duration: 300\n            });\n            return true;\n          }\n        } else {\n          scroll_to_1[\"default\"](0, offsetTop - EDITMENUHEIGHT, {\n            duration: 300\n          });\n          return true;\n        }\n      }\n    }\n  }\n\n  if (props.onChange) {\n    var html = utils_1.getHtmlFromNode(doc, schema);\n    var change = {\n      json: doc.toJSON(),\n      html: html,\n      schema: schema\n    };\n\n    if (props.outputMarkdown && showdown) {\n      var converter = new showdown.Converter();\n      converter.setFlavor('github');\n      change.markdown = converter.makeMd(html);\n    }\n\n    props.onChange(change);\n  }\n\n  if (props.autoSave) {\n    var pathname = location.pathname;\n    var html = utils_1.getHtmlFromNode(doc, schema);\n    localStorage.setItem(\"smartblock:\" + pathname, html);\n  }\n\n  var childCount = doc.content.childCount;\n  var lastNode = doc.content.child(childCount - 1);\n\n  if (lastNode.type.name !== 'paragraph') {\n    var paragraph = state.schema.nodes.paragraph;\n    dispatch(state.tr.insert(state.doc.content.size, paragraph.createAndFill()));\n  } else if (lastNode.textContent.length !== 0) {\n    var paragraph = state.schema.nodes.paragraph;\n    dispatch(state.tr.insert(state.doc.content.size, paragraph.createAndFill()));\n  }\n\n  return false;\n};\n\nvar getPlugins = function getPlugins(extensions, schema) {\n  var customPlugins = [];\n  extensions.forEach(function (extension) {\n    if (extension.plugins) {\n      customPlugins = customPlugins.concat(extension.plugins);\n    }\n  });\n  var keyPlugin = getKeys(extensions, schema);\n  return customPlugins.concat([keyPlugin]);\n};\n\nvar getNodeViews = function getNodeViews(extensions) {\n  var views = {};\n  extensions.forEach(function (extension) {\n    if (extension.view) {\n      views[extension.name] = function (node, view, getPos) {\n        return extension.view(node, view, getPos);\n      };\n    }\n  });\n  return views;\n};\n\nvar titleChanged = function titleChanged(title, props) {\n  var pathname = location.pathname;\n  localStorage.setItem(\"smartblock-title:\" + pathname, title);\n\n  if (props.onTitleChange) {\n    props.onTitleChange(title);\n  }\n};\n\nvar shouldRenderInlineMenu = function shouldRenderInlineMenu(view, blocks) {\n  var node = utils_1.getParentNodeFromState(view.state);\n  var currentBlock = blocks.find(function (block) {\n    if (block.name === node.type.name) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (currentBlock && currentBlock.hideInlineMenuOnFocus) {\n    return false;\n  }\n\n  return true;\n};\n\nexports[\"default\"] = function (props) {\n  var defaultProps = {\n    extensions: base_1[\"default\"],\n    offsetTop: 0,\n    showBackBtn: false,\n    autoSave: false,\n    showTitle: false,\n    titleText: '',\n    full: false\n  };\n  props = Object.assign({}, defaultProps, props);\n  var html = props.html,\n      json = props.json,\n      extensions = props.extensions,\n      showBackBtn = props.showBackBtn,\n      showTitle = props.showTitle,\n      markdown = props.markdown,\n      showdown = props.showdown;\n  var titleText = props.titleText;\n  var schema = getSchemaFromExtensions(props.extensions);\n  var realHtml = html;\n\n  if (json) {\n    var node = prosemirror_model_1.Node.fromJSON(schema, json);\n    realHtml = utils_1.getHtmlFromNode(node, schema);\n  }\n\n  if (markdown && showdown) {\n    var converter = new showdown.Converter();\n    converter.setFlavor('github');\n    realHtml = converter.makeHtml(markdown);\n  }\n\n  if (props.autoSave) {\n    var pathname = location.pathname;\n    var localHtml = localStorage.getItem(\"smartblock:\" + pathname);\n\n    if (localHtml) {\n      realHtml = localHtml;\n    }\n\n    if (showTitle) {\n      titleText = localStorage.getItem(\"smartblock-title:\" + pathname);\n    }\n  }\n\n  var _a = useState(null),\n      options = _a[0],\n      setOptions = _a[1];\n\n  var app = useRef(null);\n  useEffect(function () {\n    var div = document.createElement('div');\n    div.innerHTML = realHtml;\n    var doc = prosemirror_model_1.DOMParser.fromSchema(schema).parse(div, {\n      preserveWhitespace: true\n    });\n\n    if (props.onInit) {\n      props.onInit({\n        schema: schema\n      });\n    }\n\n    if (props.getEditorRef) {\n      props.getEditorRef(app);\n    }\n\n    var editorOptions = {\n      schema: schema,\n      plugins: getPlugins(extensions, schema),\n      doc: doc\n    };\n    setOptions(editorOptions);\n  }, []);\n\n  var _b = useState(true),\n      showMenus = _b[0],\n      setShowMenus = _b[1];\n\n  var containerId = React.useMemo(function () {\n    return uuid();\n  }, []);\n  var container = useRef(null);\n  var blocks = getBlocks(extensions);\n  var marks = getMarks(extensions);\n  var edits = getEdits(extensions);\n  var nodeViews = getNodeViews(extensions);\n  return React.createElement(\"div\", {\n    id: containerId,\n    onClick: function onClick(e) {\n      var target = e.target;\n\n      if (target.getAttribute('id') === containerId) {\n        setShowMenus(false);\n      } else {\n        setShowMenus(true);\n      }\n    },\n    ref: app\n  }, React.createElement(Container, {\n    full: props.full\n  }, props.showTitle && React.createElement(title_1[\"default\"], {\n    onChange: function onChange(title) {\n      titleChanged(title, props);\n    },\n    defaultValue: titleText,\n    placeholder: props.titlePlaceholder\n  }), React.createElement(Inner, null, React.createElement(\"div\", {\n    className: showMenus ? '' : 'ProseMirrorHideSelection',\n    ref: container\n  }, React.createElement(Input, null, options && React.createElement(editor_1[\"default\"], {\n    options: options,\n    nodeViews: nodeViews,\n    onChange: function onChange(state, dispatch) {\n      var shouldScroll = _onChange(state, dispatch, props, schema, container, showdown);\n\n      if (shouldScroll) {\n        setTimeout(function () {\n          setShowMenus(true);\n        }, 700);\n      }\n    },\n    render: function render(_a) {\n      var editor = _a.editor,\n          view = _a.view,\n          scrolling = _a.scrolling;\n\n      if (scrolling) {\n        setShowMenus(false);\n      }\n\n      return React.createElement(React.Fragment, null, showMenus && React.createElement(React.Fragment, null, React.createElement(menu_1[\"default\"], {\n        view: view,\n        menu: getMenu(blocks)\n      }), React.createElement(edit_menu_1[\"default\"], {\n        view: view,\n        menu: getMenu(edits)\n      }), shouldRenderInlineMenu(view, blocks) && React.createElement(inline_menu_1[\"default\"], {\n        menu: getMenu(marks),\n        blockMenu: getMenu(blocks),\n        view: view\n      }), React.createElement(custom_layout_1[\"default\"], {\n        view: view,\n        menu: getMenu(blocks)\n      }), showBackBtn && React.createElement(back_btn_1[\"default\"], {\n        view: view\n      })), editor);\n    }\n  }))))));\n};\n\nvar templateObject_1, templateObject_2, templateObject_3;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar prosemirror_state_1 = require(\"prosemirror-state\");\n\nvar prosemirror_view_1 = require(\"prosemirror-view\");\n\nvar _1 = require(\".\");\n\nexports.useForceUpdate = function () {\n  var _a = react_1.useState(0),\n      setTick = _a[1];\n\n  var update = function update() {\n    setTick(function (tick) {\n      return tick + 1;\n    });\n  };\n\n  return update;\n};\n\nexports.useView = function (props) {\n  var forceUpdate = exports.useForceUpdate();\n  var instance = react_1.useMemo(function () {\n    var view = new prosemirror_view_1.EditorView(null, {\n      state: prosemirror_state_1.EditorState.create(props.options),\n      dispatchTransaction: function dispatchTransaction(transaction) {\n        var _a = view.state.applyTransaction(transaction),\n            state = _a.state,\n            transactions = _a.transactions;\n\n        view.updateState(state);\n\n        if (transactions.some(function (tr) {\n          return tr.docChanged;\n        })) {\n          props.onChange(state, view.dispatch);\n        }\n\n        forceUpdate();\n      },\n      attributes: props.attributes,\n      nodeViews: props.nodeViews\n    });\n    props.onChange(view.state, view.dispatch);\n    return view;\n  }, []);\n  return instance;\n};\n\nexports.useScroll = function () {\n  var _a = react_1.useState(_1.getScrollTop()),\n      scrollTop = _a[0],\n      setScrollTop = _a[1];\n\n  react_1.useEffect(function () {\n    var scrollEvent = function scrollEvent() {\n      setScrollTop(_1.getScrollTop());\n    };\n\n    window.addEventListener('scroll', scrollEvent);\n    return function () {\n      window.removeEventListener('scroll', scrollEvent);\n    };\n  }, [scrollTop]);\n  return scrollTop;\n};\n\nexports.useScrolling = function (element, delay) {\n  var _a = react_1.useState(false),\n      scrolling = _a[0],\n      setScrolling = _a[1];\n\n  react_1.useEffect(function () {\n    var debounceTimer = null;\n    var count = 0;\n\n    if (!element.current) {\n      return;\n    }\n\n    var top = element.current.getBoundingClientRect().top;\n\n    var eventHandler = function eventHandler() {\n      var localTop = element.current.getBoundingClientRect().top;\n\n      if (localTop === top) {\n        return;\n      }\n\n      top = localTop;\n      count++;\n\n      if (count === 3) {\n        if (scrolling === false) {\n          count = 0;\n          setScrolling(true);\n        }\n      }\n\n      clearTimeout(debounceTimer);\n      debounceTimer = setTimeout(function () {\n        setScrolling(false);\n        count = 0;\n      }, delay);\n    };\n\n    var interval = setInterval(eventHandler, 100);\n    return function () {\n      clearInterval(interval);\n    };\n  }, []);\n  return scrolling;\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar prosemirror_model_1 = require(\"prosemirror-model\");\n\nvar prosemirror_state_1 = require(\"prosemirror-state\");\n\nvar prosemirror_view_1 = require(\"prosemirror-view\");\n\nvar utils_1 = require(\"../utils\");\n\nvar hooks_1 = require(\"../utils/hooks\");\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect;\nvar schemaDef = {\n  nodes: {\n    doc: {\n      content: 'block'\n    },\n    text: {\n      group: 'inline'\n    },\n    title: {\n      group: 'block',\n      content: 'text*',\n      selectable: false,\n      parseDOM: [{\n        tag: 'h1'\n      }],\n      toDOM: function toDOM() {\n        return ['h1', 0];\n      }\n    }\n  }\n};\n\nvar placeholderPlugin = function placeholderPlugin() {\n  return new prosemirror_state_1.Plugin({\n    props: {\n      decorations: function decorations(state) {\n        var decorations = [];\n\n        var decorate = function decorate(node, pos) {\n          if (node.type.isBlock && node.childCount === 0) {\n            decorations.push(prosemirror_view_1.Decoration.node(pos, pos + node.nodeSize, {\n              \"class\": 'empty-node'\n            }));\n          }\n        };\n\n        state.doc.descendants(decorate);\n        return prosemirror_view_1.DecorationSet.create(state.doc, decorations);\n      }\n    }\n  });\n};\n\nexports[\"default\"] = function (props) {\n  var defaultProps = {\n    placeholder: 'Title here...',\n    defaultValue: ''\n  };\n  props = Object.assign({}, defaultProps, props);\n  var titleRef = useRef(null);\n  var schema = new prosemirror_model_1.Schema(__assign({}, schemaDef));\n  var div = document.createElement('div');\n  div.innerHTML = props.defaultValue;\n  var doc = prosemirror_model_1.DOMParser.fromSchema(schema).parse(div);\n  var config = {\n    onChange: function onChange(state) {\n      if (props.onChange) {\n        var title = utils_1.getHtmlFromNode(state.doc, schema);\n        title = title.replace(/<h1>(.*)<\\/h1>/, '$1');\n        props.onChange(title);\n      }\n    },\n    options: {\n      schema: schema,\n      doc: doc,\n      plugins: [placeholderPlugin()]\n    }\n  };\n  var view = hooks_1.useView(config);\n  useEffect(function () {\n    if (titleRef.current) {\n      titleRef.current.appendChild(view.dom);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    ref: titleRef,\n    className: \"smartblock-title\"\n  });\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_components_1 = require(\"styled-components\");\n\nvar prosemirror_utils_1 = require(\"prosemirror-utils\");\n\nvar utils_1 = require(\"../utils\");\n\nvar button_1 = require(\"./button\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect;\nvar fadeIn = styled_components_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"], [\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"])));\nvar PositionBtnGroup = styled_components_1[\"default\"].div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: absolute;\\n  z-index: 11;\\n  animation: \", \" 0.3s;\\n  border-radius: 5px;\\n  box-shadow: 0 3px 40px 8px rgba(116, 116, 116, 0.2);\\n  padding: 5px 0;\\n  color: #767676;\\n  background-color: #fff;\\n  &:before {\\n    position: absolute;\\n    left: 20px;\\n    top: -12px;\\n    content: '';\\n    display: block;\\n    border-style: solid;\\n    border-width: 0 12px 12px 12px;\\n    border-color: transparent transparent #ffffff transparent;\\n  }\\n\"], [\"\\n  position: absolute;\\n  z-index: 11;\\n  animation: \", \" 0.3s;\\n  border-radius: 5px;\\n  box-shadow: 0 3px 40px 8px rgba(116, 116, 116, 0.2);\\n  padding: 5px 0;\\n  color: #767676;\\n  background-color: #fff;\\n  &:before {\\n    position: absolute;\\n    left: 20px;\\n    top: -12px;\\n    content: '';\\n    display: block;\\n    border-style: solid;\\n    border-width: 0 12px 12px 12px;\\n    border-color: transparent transparent #ffffff transparent;\\n  }\\n\"])), fadeIn);\nvar PositionBtnGroupTop = styled_components_1[\"default\"].div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  padding: 0 5px 0 5px;\\n\"], [\"\\n  padding: 0 5px 0 5px;\\n\"])));\nvar PositionBtnGroupBottom = styled_components_1[\"default\"].div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  border-top: 1px solid #ccc;\\n  margin: 5px 0 0 0;\\n  padding: 5px 5px 0 5px;\\n\"], [\"\\n  border-top: 1px solid #ccc;\\n  margin: 5px 0 0 0;\\n  padding: 5px 5px 0 5px;\\n\"])));\n\nvar calculateStyle = function calculateStyle(props) {\n  var view = props.view;\n  var state = view.state;\n  var selection = state.selection;\n\n  if (!selection || !selection.empty) {\n    return {\n      top: -1000,\n      right: 0\n    };\n  }\n\n  var $anchor = selection.$anchor;\n\n  if ($anchor.pos === 0) {\n    return {\n      top: -1000,\n      right: 0\n    };\n  }\n\n  var resolvedPos = state.doc.resolve($anchor.pos);\n  var rowNumber = resolvedPos.path[1];\n  var i = 0;\n  var firstNode = prosemirror_utils_1.findChildren(state.doc, function (_node) {\n    if (rowNumber === i || rowNumber + 1 === i) {\n      i++;\n      return true;\n    }\n\n    i++;\n    return false;\n  }, false)[0];\n\n  if (!firstNode) {\n    return {\n      top: -1000\n    };\n  }\n\n  var coords = view.coordsAtPos(firstNode.pos);\n  var dom = view.nodeDOM(firstNode.pos);\n  var elementTop = utils_1.getOffset(dom).top;\n  var offsetTop = utils_1.getOffset(view.dom).top;\n\n  if (coords.top === 0) {\n    return {\n      top: -1000\n    };\n  }\n\n  if (dom && dom.offsetHeight) {\n    return {\n      left: 5,\n      top: elementTop + dom.offsetHeight - offsetTop + 20\n    };\n  }\n\n  return {\n    left: 5,\n    top: elementTop - offsetTop + 20\n  };\n};\n\nvar getActiveMenu = function getActiveMenu(props) {\n  var menu = props.menu,\n      view = props.view;\n  var state = view.state;\n  var activeItem = menu.find(function (item) {\n    if (item.active && item.active(state)) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (activeItem && activeItem.customMenu) {\n    return React.createElement(React.Fragment, null, activeItem.customMenu(view));\n  }\n\n  return React.createElement(React.Fragment, null);\n};\n\nvar shouldRenderMenu = function shouldRenderMenu(props) {\n  var menu = props.menu,\n      view = props.view;\n  var node = utils_1.getParentNodeFromState(view.state);\n\n  if (!node || !menu || !menu.length) {\n    return;\n  }\n\n  var name = node.type.name;\n  var selectedItem = menu.find(function (item) {\n    if (item.name === name) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (!selectedItem) {\n    return true;\n  }\n\n  if (selectedItem.hideMenuOnFocus) {\n    return false;\n  }\n\n  return true;\n};\n\nexports[\"default\"] = function (props) {\n  var menu = props.menu,\n      view = props.view;\n  var state = view.state,\n      dispatch = view.dispatch;\n  var CustomMenu = getActiveMenu(props);\n  var shouldRender = shouldRenderMenu(props);\n\n  var _a = useState({\n    left: 0,\n    top: 0\n  }),\n      style = _a[0],\n      setState = _a[1];\n\n  useEffect(function () {\n    var nextStyle = calculateStyle(props);\n    setState(nextStyle);\n  }, [props]);\n\n  if (!shouldRender) {\n    return null;\n  }\n\n  var hideMenuOnFocus = false;\n  var activeItem = menu.find(function (item) {\n    if (item.active && item.active(state)) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (activeItem && activeItem.hideBlockMenuOnFocus) {\n    hideMenuOnFocus = true;\n  }\n\n  return React.createElement(PositionBtnGroup, {\n    style: style,\n    className: \"smartblock-menu\"\n  }, React.createElement(PositionBtnGroupTop, null, menu.map(function (item, key) {\n    if (item.customButton) {\n      return item.customButton({\n        state: state,\n        dispatch: dispatch\n      });\n    }\n\n    return React.createElement(button_1[\"default\"], {\n      key: key,\n      type: \"button\",\n      active: item.active && item.active(state),\n      disabled: item.enable && !item.enable(state) || hideMenuOnFocus,\n      onClick: function onClick(e) {\n        e.preventDefault();\n        item.onClick(state, dispatch, view);\n      }\n    }, typeof item.icon !== 'string' ? item.icon : React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: item.icon\n      }\n    }));\n  })), CustomMenu && CustomMenu.props && CustomMenu.props.children && React.createElement(PositionBtnGroupBottom, {\n    className: \"smartblock-custom-menu\"\n  }, CustomMenu));\n};\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;","/**\n * Module dependencies.\n */\nvar Tween = require('tween');\n\nvar raf = require('raf');\n/**\n * Expose `scrollTo`.\n */\n\n\nmodule.exports = scrollTo;\n/**\n * Scroll to `(x, y)`.\n *\n * @param {Number} x\n * @param {Number} y\n * @api public\n */\n\nfunction scrollTo(x, y, options) {\n  options = options || {}; // start position\n\n  var start = scroll(); // setup tween\n\n  var tween = Tween(start).ease(options.ease || 'out-circ').to({\n    top: y,\n    left: x\n  }).duration(options.duration || 1000); // scroll\n\n  tween.update(function (o) {\n    window.scrollTo(o.left | 0, o.top | 0);\n  }); // handle end\n\n  tween.on('end', function () {\n    animate = function animate() {};\n  }); // animate\n\n  function animate() {\n    raf(animate);\n    tween.update();\n  }\n\n  animate();\n  return tween;\n}\n/**\n * Return scroll position.\n *\n * @return {Object}\n * @api private\n */\n\n\nfunction scroll() {\n  var y = window.pageYOffset || document.documentElement.scrollTop;\n  var x = window.pageXOffset || document.documentElement.scrollLeft;\n  return {\n    top: y,\n    left: x\n  };\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_components_1 = require(\"styled-components\");\n\nvar utils_1 = require(\"../utils\");\n\nvar button_1 = require(\"./button\");\n\nvar useState = React.useState,\n    useRef = React.useRef;\nvar fadeIn = styled_components_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"], [\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"])));\nvar FloaterStyle = styled_components_1[\"default\"].div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: absolute;\\n  z-index: 12;\\n  animation: \", \" 0.3s;\\n  margin-top: 8px;\\n  border-radius: 5px;\\n  background-color: #fff;\\n  color: #fff;\\n  box-shadow: 0 3px 40px 8px rgba(116, 116, 116, 0.2);\\n  &:before {\\n    position: absolute;\\n    \", \"\\n    top: -12px;\\n    content: '';\\n    display: block;\\n    border-style: solid;\\n    border-width: 0 12px 12px 12px;\\n    border-color: transparent transparent #ffffff transparent;\\n  }\\n\"], [\"\\n  position: absolute;\\n  z-index: 12;\\n  animation: \", \" 0.3s;\\n  margin-top: 8px;\\n  border-radius: 5px;\\n  background-color: #fff;\\n  color: #fff;\\n  box-shadow: 0 3px 40px 8px rgba(116, 116, 116, 0.2);\\n  &:before {\\n    position: absolute;\\n    \", \"\\n    top: -12px;\\n    content: '';\\n    display: block;\\n    border-style: solid;\\n    border-width: 0 12px 12px 12px;\\n    border-color: transparent transparent #ffffff transparent;\\n  }\\n\"])), fadeIn, function (props) {\n  return \"\\n    left: \" + props.pos + \"px;\\n    \";\n});\nvar Bar = styled_components_1[\"default\"].div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  padding: 5px;\\n  display: flex;\\n  align-items: baseline;\\n\"], [\"\\n  padding: 5px;\\n  display: flex;\\n  align-items: baseline;\\n\"])));\nvar ARROWOFFSET = 50;\nvar ARROWTOPOFFSET = 25;\n\nvar calculateStyle = function calculateStyle(view, container) {\n  var selection = view.state.selection;\n  var offsetLeft = utils_1.getOffset(view.dom).left;\n  var coords = view.coordsAtPos(selection.$head.pos);\n  var offsetTop = utils_1.getOffset(view.dom).top;\n  var top = coords.top + utils_1.getScrollTop() + ARROWTOPOFFSET - offsetTop;\n  var left = coords.left - ARROWOFFSET - offsetLeft;\n\n  if (container && container.current && container.current.offsetWidth) {\n    var width = container.current.offsetWidth;\n\n    if (left + width > window.innerWidth) {\n      return {\n        top: top,\n        left: window.innerWidth - width\n      };\n    }\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n};\n\nvar getActiveInlineMenu = function getActiveInlineMenu(props) {\n  var blockMenu = props.blockMenu,\n      view = props.view;\n  var state = view.state;\n  var activeItem = blockMenu.find(function (item) {\n    if (item.active && item.active(state)) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (activeItem && activeItem.customInlineMenu) {\n    return React.createElement(React.Fragment, null, activeItem.customInlineMenu(view));\n  }\n\n  return false;\n};\n\nvar calculateArrowPos = function calculateArrowPos(view, container) {\n  var selection = view.state.selection;\n  var offsetLeft = utils_1.getOffset(view.dom).left;\n  var coords = view.coordsAtPos(selection.$head.pos);\n  var left = coords.left - ARROWOFFSET - offsetLeft;\n  var width = container.current ? container.current.offsetWidth : 0;\n\n  if (container && container.current && container.current.offsetWidth) {\n    if (left + width > window.innerWidth) {\n      return left - window.innerWidth + width;\n    }\n  }\n\n  return 20;\n};\n\nvar MenuBar = function MenuBar(_a) {\n  var menu = _a.menu,\n      blockMenu = _a.blockMenu,\n      children = _a.children,\n      view = _a.view;\n  var state = view.state,\n      dispatch = view.dispatch;\n  var selection = view.state.selection;\n  var container = useRef(null);\n  var style = calculateStyle(view, container);\n  var pos = calculateArrowPos(view, container);\n  var inlineMenu = getActiveInlineMenu({\n    blockMenu: blockMenu,\n    view: view\n  });\n\n  if (!selection || selection.empty) {\n    return React.createElement(React.Fragment, null);\n  }\n\n  if (menu.length === 0) {\n    return React.createElement(React.Fragment, null);\n  }\n\n  return React.createElement(FloaterStyle, {\n    style: style,\n    ref: container,\n    pos: pos,\n    className: \"smartblock-inline-menu\"\n  }, React.createElement(Bar, null, children, menu.map(function (item, key) {\n    return React.createElement(button_1[\"default\"], {\n      key: \"inline-\" + key,\n      type: \"button\",\n      active: item.active && item.active(state),\n      title: item.title,\n      disabled: item.enable && !item.enable(state),\n      onClick: function onClick(e) {\n        e.preventDefault();\n        item.onClick(state, dispatch);\n      }\n    }, typeof item.icon !== 'string' ? item.icon : React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: item.icon\n      }\n    }));\n  }), inlineMenu && inlineMenu.props && inlineMenu.props.children && React.createElement(React.Fragment, null, inlineMenu)));\n};\n\nexports[\"default\"] = MenuBar;\nvar templateObject_1, templateObject_2, templateObject_3;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar paragraph_1 = require(\"./paragraph\");\n\nvar trash_1 = require(\"./trash\");\n\nvar move_up_1 = require(\"./move-up\");\n\nvar move_down_1 = require(\"./move-down\");\n\nvar default_keys_1 = require(\"./default-keys\");\n\nvar default_plugins_1 = require(\"./default-plugins\");\n\nexports[\"default\"] = [// blocks\nnew paragraph_1[\"default\"](), new move_down_1[\"default\"](), new move_up_1[\"default\"](), new trash_1[\"default\"](), new default_keys_1[\"default\"](), new default_plugins_1[\"default\"]({\n  placeholder: 'Content here...'\n})];","require(\"core-js/modules/es6.array.index-of\");\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n(function (global, factory) {\n  // universal module definition\n\n  /* jshint strict: false */\n\n  /* globals define, module, window */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define(factory);\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n})(typeof window != 'undefined' ? window : this, function () {\n  \"use strict\";\n\n  function EvEmitter() {}\n\n  var proto = EvEmitter.prototype;\n\n  proto.on = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    } // set events hash\n\n\n    var events = this._events = this._events || {}; // set listeners array\n\n    var listeners = events[eventName] = events[eventName] || []; // only add once\n\n    if (listeners.indexOf(listener) == -1) {\n      listeners.push(listener);\n    }\n\n    return this;\n  };\n\n  proto.once = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    } // add event\n\n\n    this.on(eventName, listener); // set once flag\n    // set onceEvents hash\n\n    var onceEvents = this._onceEvents = this._onceEvents || {}; // set onceListeners object\n\n    var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {}; // set flag\n\n    onceListeners[listener] = true;\n    return this;\n  };\n\n  proto.off = function (eventName, listener) {\n    var listeners = this._events && this._events[eventName];\n\n    if (!listeners || !listeners.length) {\n      return;\n    }\n\n    var index = listeners.indexOf(listener);\n\n    if (index != -1) {\n      listeners.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  proto.emitEvent = function (eventName, args) {\n    var listeners = this._events && this._events[eventName];\n\n    if (!listeners || !listeners.length) {\n      return;\n    } // copy over to avoid interference if .off() in listener\n\n\n    listeners = listeners.slice(0);\n    args = args || []; // once stuff\n\n    var onceListeners = this._onceEvents && this._onceEvents[eventName];\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      var isOnce = onceListeners && onceListeners[listener];\n\n      if (isOnce) {\n        // remove listener\n        // remove before trigger to prevent recursion\n        this.off(eventName, listener); // unset once flag\n\n        delete onceListeners[listener];\n      } // trigger listener\n\n\n      listener.apply(this, args);\n    }\n\n    return this;\n  };\n\n  proto.allOff = function () {\n    delete this._events;\n    delete this._onceEvents;\n  };\n\n  return EvEmitter;\n});","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar imagesloaded_1 = require(\"imagesloaded\");\n\nvar utils_1 = require(\"../utils\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect;\n\nvar getCustomLayout = function getCustomLayout(props) {\n  var menu = props.menu,\n      view = props.view;\n  var node = utils_1.getParentNodeFromState(view.state);\n\n  if (!node || !menu || !menu.length) {\n    return;\n  }\n\n  var name = node.type.name;\n  var selectedItem = menu.find(function (item) {\n    if (item.name === name) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (!selectedItem) {\n    return null;\n  }\n\n  if (selectedItem.customLayout) {\n    return selectedItem.customLayout;\n  }\n\n  return null;\n};\n\nvar useImagesLoaded = function useImagesLoaded(dom) {\n  var _a = useState({\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0\n  }),\n      size = _a[0],\n      setSize = _a[1];\n\n  useEffect(function () {\n    imagesloaded_1[\"default\"](dom, function () {\n      var newSize = dom.getBoundingClientRect();\n\n      if (size.height !== newSize.height) {\n        setSize(newSize);\n      }\n    });\n  });\n  return size;\n};\n\nexports[\"default\"] = function (props) {\n  var customLayout = getCustomLayout(props);\n\n  if (!customLayout) {\n    return null;\n  }\n\n  var view = props.view;\n  var pos = utils_1.calculateStyle(props.view);\n  var parentNode = utils_1.getParentNodeFromState(view.state);\n  var parentPos = utils_1.findNodePosition(view.state.doc, parentNode);\n  var dom = view.nodeDOM(parentPos);\n  var style = {\n    position: 'absolute',\n    zIndex: 10,\n    top: pos.top,\n    left: 0,\n    right: 0\n  };\n  var size = useImagesLoaded(dom);\n\n  if (!size.height) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    style: style\n  }, customLayout(props.view, dom));\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar SvgUndo = function SvgUndo(props) {\n  return React.createElement(\"svg\", __assign({\n    width: 1792,\n    height: 1792,\n    viewBox: \"0 0 1792 1792\"\n  }, props), React.createElement(\"title\", null, \"undo\"), React.createElement(\"g\", {\n    id: \"bebf11ee-5e4c-414b-9c0e-9afbb64c0153\",\n    \"data-name\": \"\\\\u30E9\\\\u30D9\\\\u30EB\"\n  }, React.createElement(\"path\", {\n    d: \"M715.62,1146.77v412.47L0,843.62,715.62,128V510.8l356.57,39.61c395.14,43.91,676.64,243.79,716.86,492,31.48,194.23-94.21,351.37-190.3,420.9-106.64,77.16-245,118.33-401.49,76.89,119.27-39.75,212.14-134.61,207.69-214.79-7-125.53-148.89-178.63-452-178.63Z\"\n  })));\n};\n\nexports[\"default\"] = SvgUndo;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_components_1 = require(\"styled-components\");\n\nvar prosemirror_utils_1 = require(\"prosemirror-utils\");\n\nvar utils_1 = require(\"../utils\");\n\nvar button_1 = require(\"./button\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect;\nvar fadeIn = styled_components_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"], [\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"])));\nvar PositionBtnGroup = styled_components_1[\"default\"].div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  position: absolute;\\n  right: 0;\\n  z-index: 10;\\n  max-width: 280px;\\n  animation: \", \" 0.3s;\\n  border-radius: 5px;\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n  padding: 4px;\\n  background-color: #f2f2f4;\\n\"], [\"\\n  display: flex;\\n  position: absolute;\\n  right: 0;\\n  z-index: 10;\\n  max-width: 280px;\\n  animation: \", \" 0.3s;\\n  border-radius: 5px;\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n  padding: 4px;\\n  background-color: #f2f2f4;\\n\"])), fadeIn);\nvar Button = styled_components_1[\"default\"](button_1[\"default\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  margin: 3px;\\n  width: 36px;\\n  height: 36px;\\n  \", \"\\n  &:last-child {\\n    margin-right: 2px;\\n  }\\n\"], [\"\\n  margin: 3px;\\n  width: 36px;\\n  height: 36px;\\n  \", \"\\n  &:last-child {\\n    margin-right: 2px;\\n  }\\n\"])), function (props) {\n  if (props.color === 'black') {\n    return \"\\n        background-color: #444 !important;\\n        color: #FFF;\\n        \\n        &:hover {\\n          background-color: #111111 !important;\\n          color: #FFF!important;\\n        }\\n      \";\n  }\n\n  return \"\\n        background-color: transparent;\\n        color: #666;\\n        \\n        &:hover {\\n          color: #111;\\n        }\\n      \";\n});\n\nvar getContainerOffset = function getContainerOffset(container) {\n  return utils_1.getOffset(container).top;\n};\n\nvar calculateStyle = function calculateStyle(props) {\n  var view = props.view;\n  var state = view.state;\n  var selection = state.selection;\n\n  if (!selection) {\n    return {\n      top: -1000\n    };\n  }\n\n  var $anchor = selection.$anchor;\n  var resolvedPos = state.doc.resolve($anchor.pos);\n  var rowNumber = resolvedPos.path[1];\n  var i = 0;\n\n  if ($anchor.pos === 0) {\n    return {\n      top: -1000\n    };\n  }\n\n  var firstNode = prosemirror_utils_1.findChildren(state.doc, function (_node) {\n    if (rowNumber === i || rowNumber + 1 === i) {\n      i++;\n      return true;\n    }\n\n    i++;\n    return false;\n  }, false)[0];\n\n  if (!firstNode) {\n    return {\n      top: -1000\n    };\n  }\n\n  var coords = view.coordsAtPos(firstNode.pos);\n  var dom = view.nodeDOM(firstNode.pos);\n  var elementTop = utils_1.getOffset(dom).top;\n  var offsetTop = getContainerOffset(view.dom);\n\n  if (coords.top === 0) {\n    return {\n      top: -1000\n    };\n  }\n\n  return {\n    right: 20,\n    top: elementTop - offsetTop - 40\n  };\n};\n\nexports[\"default\"] = function (props) {\n  var _a = useState({\n    right: 20,\n    top: 0\n  }),\n      style = _a[0],\n      setState = _a[1];\n\n  var menu = props.menu,\n      view = props.view;\n  var state = view.state,\n      dispatch = view.dispatch;\n  useEffect(function () {\n    var nextStyle = calculateStyle(props);\n    setState(nextStyle);\n  }, [props]);\n  return React.createElement(PositionBtnGroup, {\n    style: style,\n    className: \"smartblock-edit-menu\"\n  }, menu.map(function (item, key) {\n    return React.createElement(Button, {\n      key: \"edit-\" + key,\n      type: \"button\",\n      color: item.btnColor,\n      active: item.active && item.active(state),\n      disabled: item.enable && !item.enable(state),\n      onClick: function onClick(e) {\n        e.preventDefault();\n        item.onClick(state, dispatch, view);\n      }\n    }, item.icon);\n  }));\n};\n\nvar templateObject_1, templateObject_2, templateObject_3;","require(\"core-js/modules/es6.date.now\");\n\n/**\n * Module dependencies.\n */\nvar Emitter = require('emitter');\n\nvar clone = require('clone');\n\nvar type = require('type');\n\nvar ease = require('ease');\n/**\n * Expose `Tween`.\n */\n\n\nmodule.exports = Tween;\n/**\n * Initialize a new `Tween` with `obj`.\n *\n * @param {Object|Array} obj\n * @api public\n */\n\nfunction Tween(obj) {\n  if (!(this instanceof Tween)) return new Tween(obj);\n  this._from = obj;\n  this.ease('linear');\n  this.duration(500);\n}\n/**\n * Mixin emitter.\n */\n\n\nEmitter(Tween.prototype);\n/**\n * Reset the tween.\n *\n * @api public\n */\n\nTween.prototype.reset = function () {\n  this.isArray = 'array' === type(this._from);\n  this._curr = clone(this._from);\n  this._done = false;\n  this._start = Date.now();\n  return this;\n};\n/**\n * Tween to `obj` and reset internal state.\n *\n *    tween.to({ x: 50, y: 100 })\n *\n * @param {Object|Array} obj\n * @return {Tween} self\n * @api public\n */\n\n\nTween.prototype.to = function (obj) {\n  this.reset();\n  this._to = obj;\n  return this;\n};\n/**\n * Set duration to `ms` [500].\n *\n * @param {Number} ms\n * @return {Tween} self\n * @api public\n */\n\n\nTween.prototype.duration = function (ms) {\n  this._duration = ms;\n  return this;\n};\n/**\n * Set easing function to `fn`.\n *\n *    tween.ease('in-out-sine')\n *\n * @param {String|Function} fn\n * @return {Tween}\n * @api public\n */\n\n\nTween.prototype.ease = function (fn) {\n  fn = 'function' == typeof fn ? fn : ease[fn];\n  if (!fn) throw new TypeError('invalid easing function');\n  this._ease = fn;\n  return this;\n};\n/**\n * Stop the tween and immediately emit \"stop\" and \"end\".\n *\n * @return {Tween}\n * @api public\n */\n\n\nTween.prototype.stop = function () {\n  this.stopped = true;\n  this._done = true;\n  this.emit('stop');\n  this.emit('end');\n  return this;\n};\n/**\n * Perform a step.\n *\n * @return {Tween} self\n * @api private\n */\n\n\nTween.prototype.step = function () {\n  if (this._done) return; // duration\n\n  var duration = this._duration;\n  var now = Date.now();\n  var delta = now - this._start;\n  var done = delta >= duration; // complete\n\n  if (done) {\n    this._from = this._to;\n\n    this._update(this._to);\n\n    this._done = true;\n    this.emit('end');\n    return this;\n  } // tween\n\n\n  var from = this._from;\n  var to = this._to;\n  var curr = this._curr;\n  var fn = this._ease;\n  var p = (now - this._start) / duration;\n  var n = fn(p); // array\n\n  if (this.isArray) {\n    for (var i = 0; i < from.length; ++i) {\n      curr[i] = from[i] + (to[i] - from[i]) * n;\n    }\n\n    this._update(curr);\n\n    return this;\n  } // objech\n\n\n  for (var k in from) {\n    curr[k] = from[k] + (to[k] - from[k]) * n;\n  }\n\n  this._update(curr);\n\n  return this;\n};\n/**\n * Set update function to `fn` or\n * when no argument is given this performs\n * a \"step\".\n *\n * @param {Function} fn\n * @return {Tween} self\n * @api public\n */\n\n\nTween.prototype.update = function (fn) {\n  if (0 == arguments.length) return this.step();\n  this._update = fn;\n  return this;\n};","/**\n * Expose `requestAnimationFrame()`.\n */\nexports = module.exports = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || fallback;\n/**\n * Fallback implementation.\n */\n\nvar prev = new Date().getTime();\n\nfunction fallback(fn) {\n  var curr = new Date().getTime();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var req = setTimeout(fn, ms);\n  prev = curr;\n  return req;\n}\n/**\n * Cancel.\n */\n\n\nvar cancel = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.clearTimeout;\n\nexports.cancel = function (id) {\n  cancel.call(window, id);\n};","/**\n * Expose `Emitter`.\n */\nmodule.exports = Emitter;\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n;\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n\n  return obj;\n}\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\n\nEmitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || []).push(fn);\n  return this;\n};\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\n\nEmitter.prototype.once = function (event, fn) {\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\n\nEmitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {\n  this._callbacks = this._callbacks || {}; // all\n\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  } // specific event\n\n\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this; // remove all handlers\n\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  } // remove specific handler\n\n\n  var cb;\n\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  return this;\n};\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\n\nEmitter.prototype.emit = function (event) {\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1),\n      callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\n\nEmitter.prototype.listeners = function (event) {\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\n\nEmitter.prototype.hasListeners = function (event) {\n  return !!this.listeners(event).length;\n};","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar hooks_1 = require(\"../utils/hooks\");\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect;\n\nexports[\"default\"] = function (props) {\n  var editorRef = useRef(null);\n  var view = hooks_1.useView(props); // Object.keys(props.options).forEach((key) => console.log(key, {...props.options[key]}))\n\n  useEffect(function () {\n    if (editorRef.current) {\n      editorRef.current.appendChild(view.dom);\n    }\n\n    if (props.autoFocus) {\n      view.focus();\n    }\n  }, []);\n  var scrolling = hooks_1.useScrolling(editorRef, 300);\n  var editor = React.createElement(\"div\", {\n    ref: editorRef\n  });\n  return props.render({\n    editor: editor,\n    view: view,\n    scrolling: scrolling\n  });\n};","require(\"core-js/modules/es6.regexp.constructor\");\n\n/**\n * Module dependencies.\n */\nvar type;\n\ntry {\n  type = require('component-type');\n} catch (_) {\n  type = require('type');\n}\n/**\n * Module exports.\n */\n\n\nmodule.exports = clone;\n/**\n * Clones objects.\n *\n * @param {Mixed} any object\n * @api public\n */\n\nfunction clone(obj) {\n  switch (type(obj)) {\n    case 'object':\n      var copy = {};\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          copy[key] = clone(obj[key]);\n        }\n      }\n\n      return copy;\n\n    case 'array':\n      var copy = new Array(obj.length);\n\n      for (var i = 0, l = obj.length; i < l; i++) {\n        copy[i] = clone(obj[i]);\n      }\n\n      return copy;\n\n    case 'regexp':\n      // from millermedeiros/amd-utils - MIT\n      var flags = '';\n      flags += obj.multiline ? 'm' : '';\n      flags += obj.global ? 'g' : '';\n      flags += obj.ignoreCase ? 'i' : '';\n      return new RegExp(obj.source, flags);\n\n    case 'date':\n      return new Date(obj.getTime());\n\n    default:\n      // string, number, boolean, …\n      return obj;\n  }\n}","// easing functions from \"Tween.js\"\nexports.linear = function (n) {\n  return n;\n};\n\nexports.inQuad = function (n) {\n  return n * n;\n};\n\nexports.outQuad = function (n) {\n  return n * (2 - n);\n};\n\nexports.inOutQuad = function (n) {\n  n *= 2;\n  if (n < 1) return 0.5 * n * n;\n  return -0.5 * (--n * (n - 2) - 1);\n};\n\nexports.inCube = function (n) {\n  return n * n * n;\n};\n\nexports.outCube = function (n) {\n  return --n * n * n + 1;\n};\n\nexports.inOutCube = function (n) {\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n;\n  return 0.5 * ((n -= 2) * n * n + 2);\n};\n\nexports.inQuart = function (n) {\n  return n * n * n * n;\n};\n\nexports.outQuart = function (n) {\n  return 1 - --n * n * n * n;\n};\n\nexports.inOutQuart = function (n) {\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n * n;\n  return -0.5 * ((n -= 2) * n * n * n - 2);\n};\n\nexports.inQuint = function (n) {\n  return n * n * n * n * n;\n};\n\nexports.outQuint = function (n) {\n  return --n * n * n * n * n + 1;\n};\n\nexports.inOutQuint = function (n) {\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n * n * n;\n  return 0.5 * ((n -= 2) * n * n * n * n + 2);\n};\n\nexports.inSine = function (n) {\n  return 1 - Math.cos(n * Math.PI / 2);\n};\n\nexports.outSine = function (n) {\n  return Math.sin(n * Math.PI / 2);\n};\n\nexports.inOutSine = function (n) {\n  return .5 * (1 - Math.cos(Math.PI * n));\n};\n\nexports.inExpo = function (n) {\n  return 0 == n ? 0 : Math.pow(1024, n - 1);\n};\n\nexports.outExpo = function (n) {\n  return 1 == n ? n : 1 - Math.pow(2, -10 * n);\n};\n\nexports.inOutExpo = function (n) {\n  if (0 == n) return 0;\n  if (1 == n) return 1;\n  if ((n *= 2) < 1) return .5 * Math.pow(1024, n - 1);\n  return .5 * (-Math.pow(2, -10 * (n - 1)) + 2);\n};\n\nexports.inCirc = function (n) {\n  return 1 - Math.sqrt(1 - n * n);\n};\n\nexports.outCirc = function (n) {\n  return Math.sqrt(1 - --n * n);\n};\n\nexports.inOutCirc = function (n) {\n  n *= 2;\n  if (n < 1) return -0.5 * (Math.sqrt(1 - n * n) - 1);\n  return 0.5 * (Math.sqrt(1 - (n -= 2) * n) + 1);\n};\n\nexports.inBack = function (n) {\n  var s = 1.70158;\n  return n * n * ((s + 1) * n - s);\n};\n\nexports.outBack = function (n) {\n  var s = 1.70158;\n  return --n * n * ((s + 1) * n + s) + 1;\n};\n\nexports.inOutBack = function (n) {\n  var s = 1.70158 * 1.525;\n  if ((n *= 2) < 1) return 0.5 * (n * n * ((s + 1) * n - s));\n  return 0.5 * ((n -= 2) * n * ((s + 1) * n + s) + 2);\n};\n\nexports.inBounce = function (n) {\n  return 1 - exports.outBounce(1 - n);\n};\n\nexports.outBounce = function (n) {\n  if (n < 1 / 2.75) {\n    return 7.5625 * n * n;\n  } else if (n < 2 / 2.75) {\n    return 7.5625 * (n -= 1.5 / 2.75) * n + 0.75;\n  } else if (n < 2.5 / 2.75) {\n    return 7.5625 * (n -= 2.25 / 2.75) * n + 0.9375;\n  } else {\n    return 7.5625 * (n -= 2.625 / 2.75) * n + 0.984375;\n  }\n};\n\nexports.inOutBounce = function (n) {\n  if (n < .5) return exports.inBounce(n * 2) * .5;\n  return exports.outBounce(n * 2 - 1) * .5 + .5;\n}; // aliases\n\n\nexports['in-quad'] = exports.inQuad;\nexports['out-quad'] = exports.outQuad;\nexports['in-out-quad'] = exports.inOutQuad;\nexports['in-cube'] = exports.inCube;\nexports['out-cube'] = exports.outCube;\nexports['in-out-cube'] = exports.inOutCube;\nexports['in-quart'] = exports.inQuart;\nexports['out-quart'] = exports.outQuart;\nexports['in-out-quart'] = exports.inOutQuart;\nexports['in-quint'] = exports.inQuint;\nexports['out-quint'] = exports.outQuint;\nexports['in-out-quint'] = exports.inOutQuint;\nexports['in-sine'] = exports.inSine;\nexports['out-sine'] = exports.outSine;\nexports['in-out-sine'] = exports.inOutSine;\nexports['in-expo'] = exports.inExpo;\nexports['out-expo'] = exports.outExpo;\nexports['in-out-expo'] = exports.inOutExpo;\nexports['in-circ'] = exports.inCirc;\nexports['out-circ'] = exports.outCirc;\nexports['in-out-circ'] = exports.inOutCirc;\nexports['in-back'] = exports.inBack;\nexports['out-back'] = exports.outBack;\nexports['in-out-back'] = exports.inOutBack;\nexports['in-bounce'] = exports.inBounce;\nexports['out-bounce'] = exports.outBounce;\nexports['in-out-bounce'] = exports.inOutBounce;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar prosemirror_history_1 = require(\"prosemirror-history\");\n\nvar styled_components_1 = require(\"styled-components\");\n\nvar Undo_1 = require(\"./icons/Undo\");\n\nvar appear = styled_components_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"], [\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"])));\nvar BackBtn = styled_components_1[\"default\"].button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  background: #f2f2f4;\\n  width: 44px;\\n  height: 44px;\\n  position: fixed;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 10;\\n  color: #014cc5;\\n  appearance: none;\\n  border: none;\\n  cursor: pointer;\\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\\n  animation: \", \" 0.3s;\\n  svg {\\n    fill: currentColor;\\n  }\\n\"], [\"\\n  background: #f2f2f4;\\n  width: 44px;\\n  height: 44px;\\n  position: fixed;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 10;\\n  color: #014cc5;\\n  appearance: none;\\n  border: none;\\n  cursor: pointer;\\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\\n  animation: \", \" 0.3s;\\n  svg {\\n    fill: currentColor;\\n  }\\n\"])), appear);\n\nexports[\"default\"] = function (props) {\n  var _a = props.view,\n      state = _a.state,\n      dispatch = _a.dispatch;\n  var depth = prosemirror_history_1.undoDepth(state);\n\n  if (!depth) {\n    return React.createElement(React.Fragment, null);\n  }\n\n  return React.createElement(BackBtn, {\n    onClick: function onClick() {\n      prosemirror_history_1.undo(state, dispatch);\n    }\n  }, React.createElement(Undo_1[\"default\"], {\n    style: {\n      width: '24px',\n      height: '24px'\n    }\n  }));\n};\n\nvar templateObject_1, templateObject_2;","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/**\n * toString ref.\n */\nvar toString = Object.prototype.toString;\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function (val) {\n  switch (toString.call(val)) {\n    case '[object Date]':\n      return 'date';\n\n    case '[object RegExp]':\n      return 'regexp';\n\n    case '[object Arguments]':\n      return 'arguments';\n\n    case '[object Array]':\n      return 'array';\n\n    case '[object Error]':\n      return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n  val = val.valueOf ? val.valueOf() : Object.prototype.valueOf.apply(val);\n  return typeof val;\n};","require(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n(function (window, factory) {\n  'use strict'; // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.imagesLoaded = factory(window, window.EvEmitter);\n  }\n})(typeof window !== 'undefined' ? window : this, // --------------------------  factory -------------------------- //\nfunction factory(window, EvEmitter) {\n  'use strict';\n\n  var $ = window.jQuery;\n  var console = window.console; // -------------------------- helpers -------------------------- //\n  // extend objects\n\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }\n\n  var arraySlice = Array.prototype.slice; // turn element or nodeList into an array\n\n  function makeArray(obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    } // array of single index\n\n\n    return [obj];\n  } // -------------------------- imagesLoaded -------------------------- //\n\n  /**\n   * @param {Array, Element, NodeList, String} elem\n   * @param {Object or Function} options - if function, use as callback\n   * @param {Function} onAlways - callback function\n   */\n\n\n  function ImagesLoaded(elem, options, onAlways) {\n    // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n    if (!(this instanceof ImagesLoaded)) {\n      return new ImagesLoaded(elem, options, onAlways);\n    } // use elem as selector string\n\n\n    var queryElem = elem;\n\n    if (typeof elem == 'string') {\n      queryElem = document.querySelectorAll(elem);\n    } // bail if bad element\n\n\n    if (!queryElem) {\n      console.error('Bad element for imagesLoaded ' + (queryElem || elem));\n      return;\n    }\n\n    this.elements = makeArray(queryElem);\n    this.options = extend({}, this.options); // shift arguments if no options set\n\n    if (typeof options == 'function') {\n      onAlways = options;\n    } else {\n      extend(this.options, options);\n    }\n\n    if (onAlways) {\n      this.on('always', onAlways);\n    }\n\n    this.getImages();\n\n    if ($) {\n      // add jQuery Deferred object\n      this.jqDeferred = new $.Deferred();\n    } // HACK check async to allow time to bind listeners\n\n\n    setTimeout(this.check.bind(this));\n  }\n\n  ImagesLoaded.prototype = Object.create(EvEmitter.prototype);\n  ImagesLoaded.prototype.options = {};\n\n  ImagesLoaded.prototype.getImages = function () {\n    this.images = []; // filter & find items if we have an item selector\n\n    this.elements.forEach(this.addElementImages, this);\n  };\n  /**\n   * @param {Node} element\n   */\n\n\n  ImagesLoaded.prototype.addElementImages = function (elem) {\n    // filter siblings\n    if (elem.nodeName == 'IMG') {\n      this.addImage(elem);\n    } // get background image on element\n\n\n    if (this.options.background === true) {\n      this.addElementBackgroundImages(elem);\n    } // find children\n    // no non-element nodes, #143\n\n\n    var nodeType = elem.nodeType;\n\n    if (!nodeType || !elementNodeTypes[nodeType]) {\n      return;\n    }\n\n    var childImgs = elem.querySelectorAll('img'); // concat childElems to filterFound array\n\n    for (var i = 0; i < childImgs.length; i++) {\n      var img = childImgs[i];\n      this.addImage(img);\n    } // get child background images\n\n\n    if (typeof this.options.background == 'string') {\n      var children = elem.querySelectorAll(this.options.background);\n\n      for (i = 0; i < children.length; i++) {\n        var child = children[i];\n        this.addElementBackgroundImages(child);\n      }\n    }\n  };\n\n  var elementNodeTypes = {\n    1: true,\n    9: true,\n    11: true\n  };\n\n  ImagesLoaded.prototype.addElementBackgroundImages = function (elem) {\n    var style = getComputedStyle(elem);\n\n    if (!style) {\n      // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n      return;\n    } // get url inside url(\"...\")\n\n\n    var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n    var matches = reURL.exec(style.backgroundImage);\n\n    while (matches !== null) {\n      var url = matches && matches[2];\n\n      if (url) {\n        this.addBackground(url, elem);\n      }\n\n      matches = reURL.exec(style.backgroundImage);\n    }\n  };\n  /**\n   * @param {Image} img\n   */\n\n\n  ImagesLoaded.prototype.addImage = function (img) {\n    var loadingImage = new LoadingImage(img);\n    this.images.push(loadingImage);\n  };\n\n  ImagesLoaded.prototype.addBackground = function (url, elem) {\n    var background = new Background(url, elem);\n    this.images.push(background);\n  };\n\n  ImagesLoaded.prototype.check = function () {\n    var _this = this;\n\n    this.progressedCount = 0;\n    this.hasAnyBroken = false; // complete if no images\n\n    if (!this.images.length) {\n      this.complete();\n      return;\n    }\n\n    function onProgress(image, elem, message) {\n      // HACK - Chrome triggers event before object properties have changed. #83\n      setTimeout(function () {\n        _this.progress(image, elem, message);\n      });\n    }\n\n    this.images.forEach(function (loadingImage) {\n      loadingImage.once('progress', onProgress);\n      loadingImage.check();\n    });\n  };\n\n  ImagesLoaded.prototype.progress = function (image, elem, message) {\n    this.progressedCount++;\n    this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded; // progress event\n\n    this.emitEvent('progress', [this, image, elem]);\n\n    if (this.jqDeferred && this.jqDeferred.notify) {\n      this.jqDeferred.notify(this, image);\n    } // check if completed\n\n\n    if (this.progressedCount == this.images.length) {\n      this.complete();\n    }\n\n    if (this.options.debug && console) {\n      console.log('progress: ' + message, image, elem);\n    }\n  };\n\n  ImagesLoaded.prototype.complete = function () {\n    var eventName = this.hasAnyBroken ? 'fail' : 'done';\n    this.isComplete = true;\n    this.emitEvent(eventName, [this]);\n    this.emitEvent('always', [this]);\n\n    if (this.jqDeferred) {\n      var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n      this.jqDeferred[jqMethod](this);\n    }\n  }; // --------------------------  -------------------------- //\n\n\n  function LoadingImage(img) {\n    this.img = img;\n  }\n\n  LoadingImage.prototype = Object.create(EvEmitter.prototype);\n\n  LoadingImage.prototype.check = function () {\n    // If complete is true and browser supports natural sizes,\n    // try to check for image status manually.\n    var isComplete = this.getIsImageComplete();\n\n    if (isComplete) {\n      // report based on naturalWidth\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      return;\n    } // If none of the checks above matched, simulate loading on detached element.\n\n\n    this.proxyImage = new Image();\n    this.proxyImage.addEventListener('load', this);\n    this.proxyImage.addEventListener('error', this); // bind to image as well for Firefox. #191\n\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.proxyImage.src = this.img.src;\n  };\n\n  LoadingImage.prototype.getIsImageComplete = function () {\n    // check for non-zero, non-undefined naturalWidth\n    // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n    return this.img.complete && this.img.naturalWidth;\n  };\n\n  LoadingImage.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.img, message]);\n  }; // ----- events ----- //\n  // trigger specified handler for event type\n\n\n  LoadingImage.prototype.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  LoadingImage.prototype.onload = function () {\n    this.confirm(true, 'onload');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.onerror = function () {\n    this.confirm(false, 'onerror');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.unbindEvents = function () {\n    this.proxyImage.removeEventListener('load', this);\n    this.proxyImage.removeEventListener('error', this);\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  }; // -------------------------- Background -------------------------- //\n\n\n  function Background(url, element) {\n    this.url = url;\n    this.element = element;\n    this.img = new Image();\n  } // inherit LoadingImage prototype\n\n\n  Background.prototype = Object.create(LoadingImage.prototype);\n\n  Background.prototype.check = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.img.src = this.url; // check if image is already complete\n\n    var isComplete = this.getIsImageComplete();\n\n    if (isComplete) {\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      this.unbindEvents();\n    }\n  };\n\n  Background.prototype.unbindEvents = function () {\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  Background.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.element, message]);\n  }; // -------------------------- jQuery -------------------------- //\n\n\n  ImagesLoaded.makeJQueryPlugin = function (jQuery) {\n    jQuery = jQuery || window.jQuery;\n\n    if (!jQuery) {\n      return;\n    } // set local variable\n\n\n    $ = jQuery; // $().imagesLoaded()\n\n    $.fn.imagesLoaded = function (options, callback) {\n      var instance = new ImagesLoaded(this, options, callback);\n      return instance.jqDeferred.promise($(this));\n    };\n  }; // try making plugin\n\n\n  ImagesLoaded.makeJQueryPlugin(); // --------------------------  -------------------------- //\n\n  return ImagesLoaded;\n});"],"sourceRoot":""}